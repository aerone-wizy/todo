(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,n){e.exports=n(121)},111:function(e,t,n){},116:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=(n(111),n(26)),u=n(18),s=(n(116),n(47)),l=n(22),i=n(8),d=n.n(i),p=n(62),m=n(25),E=n(32),f=n(23),O=function(e){return e.user},S=Object(f.a)([O],(function(e){return e.currentUser})),T=Object(f.a)([O],(function(e){return e.isAuthenticated})),_={CHECK_USER_SESSION:"CHECK_USER_SESSION",SIGN_IN_START:"SIGN_IN_START",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_FAILURE:"SIGN_IN_FAILURE",SIGN_OUT_START:"SIGN_OUT_START",SIGN_OUT_SUCCESS:"SIGN_OUT_SUCCESS",SIGN_OUT_FAILURE:"SIGN_OUT_FAILURE",SIGN_UP_START:"SIGN_UP_START",SIGN_UP_SUCCESS:"SIGN_UP_SUCCESS",SIGN_UP_FAILURE:"SIGN_UP_FAILURE"},b=function(e){return{type:_.SIGN_IN_SUCCESS,payload:e}},h=function(e){return{type:_.SIGN_IN_FAILURE,payload:e}},v=function(){return{type:_.SIGN_OUT_SUCCESS}},C=function(e){return{type:_.SIGN_UP_FAILURE,payload:e}},D=n(155),A=n(164),j=n(172),U=n(160),x=n(162),y=n(161),g=n(158),w=Object(D.a)((function(e){return{formCard:{width:"20rem",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},content:{"& > *":{margin:e.spacing(1)}}}})),I=Object(f.b)({currentUser:S,isAuthenticated:T}),R=Object(o.b)(I,(function(e){return{signInStart:function(t,n){return e({type:_.SIGN_IN_START,payload:{username:t,password:n}})}}}))((function(e){var t=e.signInStart,n=e.currentUser,c=e.isAuthenticated,o=w(),i=Object(a.useState)({username:"",password:""}),f=Object(m.a)(i,2),O=f[0],S=f[1],T=O.username,_=O.password,b=function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),console.log("handleLogin() userCredentials:",O),t(T,_);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.target,n=t.name,a=t.value;S(Object(l.a)(Object(l.a)({},O),{},Object(s.a)({},n,a)))};return c?n?r.a.createElement(u.a,{to:"/"}):r.a.createElement(U.a,{className:o.formCard},r.a.createElement(y.a,{title:"Log In"}),r.a.createElement(x.a,null,r.a.createElement("form",{onSubmit:b,className:o.content},r.a.createElement(j.a,{label:"Username",variant:"outlined",name:"username",type:"text",value:T,onChange:h,autoComplete:"on",size:"small"}),r.a.createElement(j.a,{label:"Password",variant:"outlined",name:"password",type:"password",value:_,onChange:h,autoComplete:"on",size:"small"}),r.a.createElement(A.a,{variant:"contained",color:"primary",type:"submit"},"Log in"),r.a.createElement("hr",null),r.a.createElement("p",null,"Don't have an account?"),r.a.createElement(A.a,{variant:"contained",component:E.b,to:"/signup"},"Create new account")))):r.a.createElement(g.a,null)})),L=Object(D.a)((function(e){return{formCard:{width:"20rem",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},content:{"& > *":{margin:e.spacing(1)}}}})),N=Object(f.b)({currentUser:S,isAuthenticated:T}),k=Object(o.b)(N,(function(e){return{signUpStart:function(t){return e({type:_.SIGN_UP_START,payload:t})}}}))((function(e){var t=e.currentUser,n=e.signUpStart,c=e.isAuthenticated,o=L(),i=Object(a.useState)({name:"",username:"",email:"",password:"",confirmPassword:""}),f=Object(m.a)(i,2),O=f[0],S=f[1],T=O.name,_=O.username,b=O.email,h=O.password,v=O.confirmPassword,C=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n(O);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=e.target,n=t.name,a=t.value;S(Object(l.a)(Object(l.a)({},O),{},Object(s.a)({},n,a)))};return c?t?r.a.createElement(u.a,{to:"/"}):r.a.createElement(U.a,{className:o.formCard},r.a.createElement(y.a,{title:"Sign up"}),r.a.createElement(x.a,null,r.a.createElement("form",{onSubmit:C,className:o.content},r.a.createElement(j.a,{label:"Name",variant:"outlined",name:"name",type:"text",autoComplete:"on",value:T,onChange:D,size:"small"}),r.a.createElement(j.a,{label:"Username",variant:"outlined",name:"username",type:"text",value:_,onChange:D,autoComplete:"on",size:"small"}),r.a.createElement(j.a,{label:"Email address",variant:"outlined",name:"email",type:"email",value:b,onChange:D,autoComplete:"on",size:"small"}),r.a.createElement(j.a,{label:"Password",variant:"outlined",name:"password",type:"password",value:h,onChange:D,autoComplete:"on",size:"small"}),r.a.createElement(j.a,{label:"Confirm Password",variant:"outlined",name:"confirmPassword",type:"password",value:v,onChange:D,autoComplete:"on",size:"small"}),r.a.createElement(A.a,{variant:"contained",color:"primary",type:"submit"},"Sign up"),r.a.createElement("hr",null),r.a.createElement("p",null,"Already have an account?"),r.a.createElement(A.a,{variant:"contained",component:E.b,to:"/login"},"Login your account")))):r.a.createElement(g.a,null)})),P=function(e){return e.todo},G=Object(f.a)([P],(function(e){return e.todos})),Y=Object(f.a)([P],(function(e){return e.msg})),F=(Object(f.a)([P],(function(e){return e.isLoaded})),n(92)),M=n(17),z=n.n(M),B=n(163),H=n(167),J=n(94),K=n(122),W=n(173),V=n(166),X=n(176),q=n(85),Q=n.n(q),Z={CREATE_TODO_START:"CREATE_TODO_START",CREATE_TODO_SUCCESS:"CREATE_TODO_SUCCESS",CREATE_TODO_FAILURE:"CREATE_TODO_FAILURE",READ_TODOS_START:"READ_TODOS_START",READ_TODOS_SUCCESS:"READ_TODOS_SUCCESS",READ_TODOS_FAILURE:"READ_TODOS_FAILURE",UPDATE_TODO_START:"UPDATE_TODO_START",UPDATE_TODO_SUCCESS:"UPDATE_TODO_SUCCESS",UPDATE_TODO_FAILURE:"UPDATE_TODO_FAILURE",DELETE_TODO_START:"DELETE_TODO_START",DELETE_TODO_SUCCESS:"DELETE_TODO_SUCCESS",DELETE_TODO_FAILURE:"DELETE_TODO_FAILURE"},$=function(e){return{type:Z.READ_TODOS_FAILURE,payload:e}},ee=function(e){return{type:Z.UPDATE_TODO_FAILURE,payload:e}},te=function(e){return{type:Z.DELETE_TODO_FAILURE,payload:e}},ne=Object(D.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)"},todo:{display:"flex",flexDirection:"row",width:"80vw"}}})),ae=Object(o.b)(null,(function(e){return{updateTodo:function(t,n,a,r){return e(function(e,t,n,a){return{type:Z.UPDATE_TODO_START,payload:{id:e,todo:t,dueTime:n,isDone:a}}}(t,n,a,r))},deleteTodo:function(t){return e(function(e){return{type:Z.DELETE_TODO_START,payload:e}}(t))}}}))((function(e){var t=e.todo,n=e.updateTodo,c=e.deleteTodo,o=t.todo_id,u=t.is_done,s=t.date_created,l=t.due_time,i=ne(),d=Object(a.useState)(t.todo),p=Object(m.a)(d,2),E=p[0],f=p[1],O=Object(a.useState)(z()(l,"LT").format("LT")),S=Object(m.a)(O,2),T=S[0],_=S[1];return r.a.createElement("div",null,r.a.createElement(K.a,null,r.a.createElement(U.a,{className:i.todo},r.a.createElement(W.a,{checked:u,onChange:function(){n(o,t.todo,l,!u)}}),r.a.createElement(V.a,{primary:r.a.createElement(X.a,{defaultValue:E,onChange:function(e){return f(e.target.value)},onBlur:function(){t.todo!==E&&n(o,E,T,u)},style:{width:"60%"},inputProps:{"aria-label":"naked"}}),secondary:"Created on "+z()(s).format("LLLL"),style:{whiteSpace:"nowrap"}}),r.a.createElement(X.a,{value:T,onChange:function(e){return _(e.target.value)},onBlur:function(){"Invalid date"!==z()(T,"LT").format("LT")?(_(z()(T,"LT").format("LT")),l!==z()(T,"LT").format("LT")&&n(o,t.todo,z()(T,"LT").format("LT"),u)):_(z()(l,"LT").format("LT"))},inputProps:{"aria-label":"naked"}}),r.a.createElement(A.a,{onClick:function(){c(o)}},r.a.createElement(Q.a,null)))))})),re=Object(f.b)({todos:G}),ce=Object(o.b)(re,(function(e){return{createTodo:function(t,n,a){return e(function(e,t,n){return{type:Z.CREATE_TODO_START,payload:{todo:e,dueDate:t,dueTime:n}}}(t,n,a))},readTodos:function(){return e({type:Z.READ_TODOS_START})}}}))((function(e){var t=e.createTodo,n=e.readTodos,c=e.todos,o=Object(a.useState)(""),u=Object(m.a)(o,2),s=u[0],l=u[1],i=Object(a.useState)(z()().format("YYYY-MM-DD")),d=Object(m.a)(i,2),p=d[0],E=d[1],f=Object(a.useState)(z()(new Date).format("LT")),O=Object(m.a)(f,2),S=O[0],T=O[1];Object(a.useEffect)((function(){n()}),[n]);var _=[];return c&&c.map((function(e){return _.includes(e.due_date)||(_=[].concat(Object(F.a)(_),[e.due_date])),null})),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"Your Todos"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(s,p,S),l("")}},r.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",justifyContent:"center"}},r.a.createElement(j.a,{label:"\u2714 What do you want to do?",value:s,style:{margin:"10px",width:"20%"},onChange:function(e){return l(e.target.value)}}),r.a.createElement(j.a,{name:"date",label:"Due Date",type:"date",value:p,onChange:function(e){return E(e.target.value)},style:{margin:"10px"},InputLabelProps:{shrink:!0}}),r.a.createElement(j.a,{name:"time",label:"Time",type:"text",value:S,onChange:function(e){return T(e.target.value)},onBlur:function(){"Invalid date"===z()(S,"LT").format("LT")?T(z()(new Date).format("LT")):T(z()(S,"LT").format("LT"))},style:{margin:"10px",width:"10%"},InputLabelProps:{shrink:!0}}),r.a.createElement(A.a,{type:"submit",disabled:!s||!S||!p||"Invalid date"===S||"Invalid date"===p,variant:"contained",color:"primary",size:"large",style:{margin:"10px"}},"Add Todo moto"))),r.a.createElement(B.a,null,c?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("br",null),r.a.createElement(J.a,null,_.includes(z()().format("YYYY-MM-DD"))?r.a.createElement("div",{key:z()().format("YYYY-MM-DD")},"Today is "+z()().format("dddd, MMMM D YYYY"),c.map((function(e){return z()().format("YYYY-MM-DD")===e.due_date?r.a.createElement(ae,{key:e.todo_id,todo:e}):null}))):r.a.createElement("div",null," Nothing todo for today ")),r.a.createElement("br",null),r.a.createElement(J.a,null,"Upcomming",_.sort().reverse().map((function(e){return z()(e,"YYYY-MM-DD").isAfter()?r.a.createElement("div",{key:e},z()(e).format("dddd, MMMM D YYYY"),c.map((function(t){return e===t.due_date?r.a.createElement(ae,{key:t.todo_id,todo:t}):null}))):null}))),r.a.createElement("br",null),r.a.createElement(J.a,{style:{backgroundColor:"#AAACB0"}},"Past",_.sort().reverse().map((function(e){return z()(e,"YYYY-MM-DD").isBefore()?r.a.createElement("div",{key:e},z()(e).format("dddd, MMMM D YYYY"),c.map((function(t){return e===t.due_date?r.a.createElement(ae,{key:t.todo_id,todo:t}):null}))):null})))):r.a.createElement(H.a,null)))})),oe=n(168),ue=n(169),se=n(170),le=n(86),ie=n.n(le),de=n(171),pe=n(41),me=n(165),Ee=n(87),fe=n.n(Ee),Oe=n(90),Se=n(175),Te=n(88),_e=n.n(Te),be=Object(D.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),he=Object(f.b)({currentUser:S,isAuthenticated:T,msg:Y}),ve=Object(o.b)(he,(function(e){return{signOutStart:function(){return e({type:_.SIGN_OUT_START})}}}))((function(e){var t=e.signOutStart,n=e.currentUser,c=e.isAuthenticated,o=e.msg,s=be(),l=Object(a.useState)(!1),i=Object(m.a)(l,2),d=i[0],p=i[1],E=Object(a.useState)(null),f=Object(m.a)(E,2),O=f[0],S=f[1],T=Object(a.useState)(!1),_=Object(m.a)(T,2),b=_[0],h=_[1];Object(a.useEffect)((function(){o&&h(!0)}),[o]);var v=function(e,t){"clickaway"!==t&&h(!1)},C=function(e){p(!d),S(O?null:e.currentTarget)};return c?n?r.a.createElement("div",{className:s.root},r.a.createElement(oe.a,null),r.a.createElement(ue.a,{position:"static"},r.a.createElement(se.a,null,r.a.createElement(me.a,{edge:"start",className:s.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(ie.a,null)),r.a.createElement(pe.a,{variant:"h6",className:s.title},"Welcome, ",n.name),r.a.createElement("div",null,r.a.createElement(me.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:C,color:"inherit"},r.a.createElement(fe.a,null)),r.a.createElement(Oe.a,{id:"menu-appbar",anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:C},r.a.createElement(de.a,{onClick:function(){t()}},"Logout"),r.a.createElement(de.a,{onClick:C},"My account"))))),r.a.createElement(ce,null),r.a.createElement(Se.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:b,autoHideDuration:6e3,onClose:v,message:o,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{size:"small","aria-label":"close",color:"inherit",onClick:v},r.a.createElement(_e.a,{fontSize:"small"})))})):r.a.createElement(u.a,{to:"/login"}):r.a.createElement(g.a,null)}));var Ce=Object(o.b)(null,(function(e){return{checkUserSession:function(){return e({type:_.CHECK_USER_SESSION})}}}))((function(e){var t=e.checkUserSession;return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement("div",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:ve}),r.a.createElement(u.b,{exact:!0,path:"/login",component:R}),r.a.createElement(u.b,{exact:!0,path:"/signup",component:k})))})),De=n(37),Ae=n(89),je=n.n(Ae),Ue=n(91),xe=n(9),ye=function(){return window.location.href.indexOf("localhost")<0?"https://todoapp-290603.an.r.appspot.com":"http://localhost:8080"},ge=d.a.mark(Me),we=d.a.mark(ze),Ie=d.a.mark(Be),Re=d.a.mark(He),Le=d.a.mark(Je),Ne=d.a.mark(Ke),ke=d.a.mark(We),Pe=d.a.mark(Ve),Ge=d.a.mark(Xe),Ye=d.a.mark(qe),Fe=d.a.mark(Qe);function Me(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(ye(),"/api/users/me"),{withCredentials:!0,credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e)}));case 3:if(!(e=t.sent).isAuthenticated){t.next=9;break}return t.next=7,Object(xe.c)(b(e.user));case 7:t.next=11;break;case 9:return t.next=11,Object(xe.c)(v());case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(xe.c)(h(t.t0));case 17:case"end":return t.stop()}}),ge,null,[[0,13]])}function ze(e){var t,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,r=t,fetch("".concat(ye(),"/api/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},withCredentials:!0,credentials:"include",body:JSON.stringify(r)}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e)}));case 4:return n=a.sent,a.next=7,Object(xe.c)(b(n));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(xe.c)(h(a.t0));case 13:case"end":return a.stop()}var r}),we,null,[[1,9]])}function Be(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ye(),"/api/users/logout"),{withCredentials:!0,credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e)}));case 3:return e.next=5,Object(xe.c)(v());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(xe.c)((t=e.t0,{type:_.SIGN_OUT_FAILURE,payload:t}));case 11:case"end":return e.stop()}var t}),Ie,null,[[0,7]])}function He(e){var t,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,r=t,fetch("".concat(ye(),"/api/users/register"),{method:"POST",headers:{"Content-Type":"application/json"},withCredentials:!0,credentials:"include",body:JSON.stringify(r)}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e)}));case 4:if((n=a.sent).errors){a.next=10;break}return a.next=8,Object(xe.c)({type:_.SIGN_UP_SUCCESS,payload:n});case 8:a.next=12;break;case 10:return a.next=12,Object(xe.c)(C(n.errors));case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(1),a.next=18,Object(xe.c)(C(a.t0));case 18:case"end":return a.stop()}var r}),Re,null,[[1,14]])}function Je(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze(e);case 2:case"end":return t.stop()}}),Le)}function Ke(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.d)(_.SIGN_IN_START,ze);case 2:case"end":return e.stop()}}),Ne)}function We(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.d)(_.CHECK_USER_SESSION,Me);case 2:case"end":return e.stop()}}),ke)}function Ve(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.d)(_.SIGN_OUT_START,Be);case 2:case"end":return e.stop()}}),Pe)}function Xe(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.d)(_.SIGN_UP_START,He);case 2:case"end":return e.stop()}}),Ge)}function qe(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.d)(_.SIGN_UP_SUCCESS,Je);case 2:case"end":return e.stop()}}),Ye)}function Qe(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.a)([Object(xe.b)(Ke),Object(xe.b)(We),Object(xe.b)(Ve),Object(xe.b)(Xe),Object(xe.b)(qe)]);case 2:case"end":return e.stop()}}),Fe)}var Ze=function(){return window.location.href.indexOf("localhost")<0?"https://todoapp-290603.an.r.appspot.com":"http://localhost:8080"},$e=function(e,t,n){return fetch("".concat(Ze(),"/api/todos"),{method:"POST",headers:{"Content-Type":"application/json"},withCredentials:!0,credentials:"include",body:JSON.stringify({todo:e,dueDate:t,dueTime:n})}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e)}))},et=function(e,t,n,a){return fetch("".concat(Ze(),"/api/todos/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},withCredentials:!0,credentials:"include",body:JSON.stringify({todo:t,dueTime:n,isDone:a})}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e)}))},tt=d.a.mark(it),nt=d.a.mark(dt),at=d.a.mark(pt),rt=d.a.mark(mt),ct=d.a.mark(Et),ot=d.a.mark(ft),ut=d.a.mark(Ot),st=d.a.mark(St),lt=d.a.mark(Tt);function it(e){var t,n,a,r,c;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.todo,a=t.dueDate,r=t.dueTime,o.prev=1,o.next=4,$e(n,a,r);case 4:if(!(c=o.sent).error){o.next=10;break}return o.next=8,Object(xe.c)((u=c.error,{type:Z.CREATE_TODO_FAILURE,payload:u}));case 8:o.next=12;break;case 10:return o.next=12,Object(xe.c)({type:Z.CREATE_TODO_SUCCESS,payload:c});case 12:o.next=18;break;case 14:return o.prev=14,o.t0=o.catch(1),o.next=18,Object(xe.c)($(o.t0));case 18:case"end":return o.stop()}var u}),tt,null,[[1,14]])}function dt(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(Ze(),"/api/todos"),{withCredentials:!0,credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e)}));case 3:if(!(e=t.sent).error){t.next=9;break}return t.next=7,Object(xe.c)($(e.error));case 7:t.next=11;break;case 9:return t.next=11,Object(xe.c)((n=e.todos,a=e.msg,{type:Z.READ_TODOS_SUCCESS,payload:{todos:n,msg:a}}));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(xe.c)($(t.t0));case 17:case"end":return t.stop()}var n,a}),nt,null,[[0,13]])}function pt(e){var t,n,a,r,c,o;return d.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.id,a=t.todo,r=t.dueTime,c=t.isDone,u.prev=1,u.next=4,et(n,a,r,c);case 4:if(!(o=u.sent).error){u.next=10;break}return u.next=8,Object(xe.c)(te(o.error));case 8:u.next=12;break;case 10:return u.next=12,Object(xe.c)((s=o.todos,l=o.msg,{type:Z.UPDATE_TODO_SUCCESS,payload:{todos:s,msg:l}}));case 12:u.next=18;break;case 14:return u.prev=14,u.t0=u.catch(1),u.next=18,Object(xe.c)(te(u.t0));case 18:case"end":return u.stop()}var s,l}),at,null,[[1,14]])}function mt(e){var t,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,o=t,fetch("".concat(Ze(),"/api/todos/").concat(o),{method:"DELETE",headers:{"Content-Type":"application/json"},withCredentials:!0,credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e)}));case 4:if(!(n=a.sent).error){a.next=10;break}return a.next=8,Object(xe.c)(ee(n.error));case 8:a.next=12;break;case 10:return a.next=12,Object(xe.c)((r=n.todos,c=n.msg,{type:Z.DELETE_TODO_SUCCESS,payload:{todos:r,msg:c}}));case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(1),a.next=18,Object(xe.c)(ee(a.t0));case 18:case"end":return a.stop()}var r,c,o}),rt,null,[[1,14]])}function Et(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.d)(Z.CREATE_TODO_START,it);case 2:case"end":return e.stop()}}),ct)}function ft(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.d)(Z.READ_TODOS_START,dt);case 2:case"end":return e.stop()}}),ot)}function Ot(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.d)(Z.UPDATE_TODO_START,pt);case 2:case"end":return e.stop()}}),ut)}function St(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.d)(Z.DELETE_TODO_START,mt);case 2:case"end":return e.stop()}}),st)}function Tt(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.a)([Object(xe.b)(Et),Object(xe.b)(ft),Object(xe.b)(Ot),Object(xe.b)(St)]);case 2:case"end":return e.stop()}}),lt)}var _t=d.a.mark(bt);function bt(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.a)([Object(xe.b)(Qe),Object(xe.b)(Tt)]);case 2:case"end":return e.stop()}}),_t)}var ht={currentUser:null,isAuthenticated:!1,error:null},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.SIGN_IN_START:case _.SIGN_UP_START:case _.SIGN_OUT_START:case _.CHECK_USER_SESSION:return Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!1});case _.SIGN_IN_SUCCESS:return{currentUser:t.payload,isAuthenticated:!0,error:null};case _.SIGN_OUT_SUCCESS:return{currentUser:null,isAuthenticated:!0,error:null};case _.SIGN_IN_FAILURE:case _.SIGN_OUT_FAILURE:case _.SIGN_UP_FAILURE:return Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!0,error:t.payload});default:return e}},Ct={todos:null,isLoaded:!1,msg:"",error:null},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.CREATE_TODO_START:case Z.READ_TODOS_START:case Z.UPDATE_TODO_START:case Z.DELETE_TODO_START:return Object(l.a)(Object(l.a)({},e),{},{isLoaded:!1,msg:""});case Z.CREATE_TODO_SUCCESS:case Z.READ_TODOS_SUCCESS:case Z.UPDATE_TODO_SUCCESS:case Z.DELETE_TODO_SUCCESS:return{todos:t.payload.todos,msg:t.payload.msg,isLoaded:!0,error:null};case Z.CREATE_TODO_FAILURE:case Z.READ_TODOS_FAILURE:case Z.UPDATE_TODO_FAILURE:case Z.DELETE_TODO_FAILURE:return Object(l.a)(Object(l.a)({},e),{},{isLoaded:!0,error:t.payload});default:return e}},At=Object(De.c)({user:vt,todo:Dt}),jt=Object(Ue.a)(),Ut=[jt];Ut.push(je.a);var xt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||De.d,yt=Object(De.e)(At,xt(De.a.apply(void 0,Ut)));jt.run(bt);Object(c.render)(r.a.createElement(o.a,{store:yt},r.a.createElement(E.a,null,r.a.createElement(Ce,null))),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.d84efbf2.chunk.js.map